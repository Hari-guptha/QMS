'use client';

import React, { createContext, useContext, useState, useEffect, ReactNode } from 'react';

export type Language = 'en' | 'ar';

interface Translations {
  [key: string]: {
    en: string;
    ar: string;
  };
}

const translations: Translations = {
  // Common
  'common.loading': { en: 'Loading...', ar: 'جاري التحميل...' },
  'common.error': { en: 'Error', ar: 'خطأ' },
  'common.success': { en: 'Success', ar: 'نجح' },
  'common.save': { en: 'Save', ar: 'حفظ' },
  'common.cancel': { en: 'Cancel', ar: 'إلغاء' },
  'common.updating': { en: 'Updating...', ar: 'جاري التحديث...' },
  'common.submit': { en: 'Submit', ar: 'إرسال' },
  'common.back': { en: 'Back', ar: 'رجوع' },
  'common.next': { en: 'Next', ar: 'التالي' },
  'common.close': { en: 'Close', ar: 'إغلاق' },
  'common.required': { en: 'Required', ar: 'مطلوب' },
  'common.or': { en: 'or', ar: 'أو' },
  'common.value': { en: 'Value', ar: 'القيمة' },
  'common.status': { en: 'Status', ar: 'الحالة' },
  'common.serving': { en: 'Serving', ar: 'في الخدمة' },
  'common.pending': { en: 'Pending', ar: 'قيد الانتظار' },
  'common.hold': { en: 'Hold', ar: 'تعليق' },
  'common.edit': { en: 'Edit', ar: 'تعديل' },
  'common.viewDetails': { en: 'View Details', ar: 'عرض التفاصيل' },
  'common.clearFilter': { en: 'Clear filter', ar: 'مسح الفلتر' },
  'common.gridView': { en: 'Grid View', ar: 'عرض الشبكة' },
  'common.listView': { en: 'List View', ar: 'عرض القائمة' },
  'common.tableView': { en: 'Table View', ar: 'عرض الجدول' },

  // Navigation
  'nav.queueManagement': { en: 'Queue Management System', ar: 'نظام إدارة الطوابير' },
  'nav.myAccount': { en: 'My Account', ar: 'حسابي' },
  'nav.themeLayout': { en: 'Theme & Layout', ar: 'المظهر والتخطيط' },
  'nav.applicationSettings': { en: 'Application Settings', ar: 'إعدادات التطبيق' },
  'nav.updatePassword': { en: 'Update Password', ar: 'تحديث كلمة المرور' },
  'nav.signOut': { en: 'Sign Out', ar: 'تسجيل الخروج' },
  'nav.account': { en: 'Account', ar: 'حساب' },

  // Customer
  'customer.checkIn': { en: 'Customer Check-In', ar: 'تسجيل وصول العميل' },
  'customer.selectService': { en: 'Select a service category and get your queue token instantly', ar: 'اختر فئة الخدمة واحصل على رمز الطابور فوراً' },
  'customer.selectServiceStep': { en: 'Select Service', ar: 'اختر الخدمة' },
  'customer.yourDetails': { en: 'Your Details', ar: 'تفاصيلك' },
  'customer.name': { en: 'Name', ar: 'الاسم' },
  'customer.phone': { en: 'Phone', ar: 'الهاتف' },
  'customer.email': { en: 'Email', ar: 'البريد الإلكتروني' },
  'customer.emailOptional': { en: 'Email (Optional)', ar: 'البريد الإلكتروني (اختياري)' },
  'customer.getToken': { en: 'Get My Token', ar: 'احصل على رمزي' },
  'customer.processing': { en: 'Processing...', ar: 'جاري المعالجة...' },
  'customer.tokenNumber': { en: 'Your Token Number', ar: 'رقم رمزك' },
  'customer.category': { en: 'Category', ar: 'الفئة' },
  'customer.status': { en: 'Status', ar: 'الحالة' },
  'customer.positionInQueue': { en: 'Position in Queue', ar: 'الموقع في الطابور' },
  'customer.assignedAgent': { en: 'Assigned Agent', ar: 'الموظف المخصص' },
  'customer.viewStatusPage': { en: 'View Status Page', ar: 'عرض صفحة الحالة' },
  'customer.checkInAgain': { en: 'Check In Again', ar: 'تسجيل وصول مرة أخرى' },
  'customer.viewQueueStatus': { en: 'View Queue Status', ar: 'عرض حالة الطابور' },
  'customer.backToHome': { en: 'Back to Home', ar: 'العودة إلى الصفحة الرئيسية' },
  'customer.selectedService': { en: 'Selected Service', ar: 'الخدمة المحددة' },
  'customer.change': { en: 'Change', ar: 'تغيير' },
  'customer.enterFullName': { en: 'Enter your full name', ar: 'أدخل اسمك الكامل' },
  'customer.enterPhone': { en: '+1234567890', ar: '+1234567890' },
  'customer.enterEmail': { en: 'your@email.com', ar: 'your@email.com' },
  'customer.loadingCategories': { en: 'Loading service categories...', ar: 'جاري تحميل فئات الخدمات...' },
  'customer.noCategories': { en: 'No service categories available at the moment.', ar: 'لا توجد فئات خدمات متاحة في الوقت الحالي.' },
  'customer.estimatedWait': { en: 'Est. wait:', ar: 'الوقت المتوقع:' },
  'customer.minutes': { en: 'min', ar: 'دقيقة' },

  // Dashboard
  'dashboard.admin': { en: 'Admin Dashboard', ar: 'لوحة تحكم المدير' },
  'dashboard.agent': { en: 'Agent Dashboard', ar: 'لوحة تحكم الموظف' },
  'dashboard.manageSystem': { en: 'Manage your queue management system', ar: 'إدارة نظام إدارة الطوابير الخاص بك' },
  // Agent specific
  'agent.assignedService': { en: 'Assigned Service:', ar: 'الخدمة المخصصة:' },
  'agent.currentlyServing': { en: 'Currently Serving', ar: 'قيد الخدمة' },
  'agent.customerDetails': { en: 'Customer Details', ar: 'تفاصيل العميل' },
  'agent.myQueue': { en: 'My Queue', ar: 'قائمتي' },
  'agent.statistics': { en: 'Statistics', ar: 'الإحصائيات' },
  'agent.totalInQueue': { en: 'Total in Queue', ar: 'الإجمالي في الطابور' },

  // Home
  'home.title': { en: 'Queue Management System', ar: 'نظام إدارة الطوابير' },
  'home.titleMain': { en: 'Queue Management', ar: 'إدارة الطوابير' },
  'home.titleSystem': { en: 'System', ar: 'النظام' },
  'home.customer': { en: 'Customer', ar: 'عميل' },
  'home.customerDesc': { en: 'Check in and get your queue token instantly', ar: 'سجل الوصول واحصل على رمز الطابور فوراً' },
  'home.agent': { en: 'Agent', ar: 'موظف' },
  'home.agentDesc': { en: 'Manage your queue and serve customers efficiently', ar: 'إدارة طابورك وخدمة العملاء بكفاءة' },
  'home.admin': { en: 'Admin', ar: 'مدير' },
  'home.adminDesc': { en: 'System administration and analytics dashboard', ar: 'لوحة تحكم إدارة النظام والتحليلات' },
  'home.getStarted': { en: 'Get Started', ar: 'ابدأ' },
  'home.viewPublicStatus': { en: 'View Public Status Page', ar: 'عرض صفحة الحالة العامة' },
  'home.featureLightning': { en: 'Lightning Fast', ar: 'سريع جداً' },
  'home.featureLightningDesc': { en: 'Instant token generation and real-time updates', ar: 'إنشاء رمز فوري وتحديثات في الوقت الفعلي' },
  'home.featureAnalytics': { en: 'Analytics Dashboard', ar: 'لوحة تحكم التحليلات' },
  'home.featureAnalyticsDesc': { en: 'Comprehensive insights and performance metrics', ar: 'رؤى شاملة ومقاييس الأداء' },
  'home.featureSecure': { en: 'Secure & Reliable', ar: 'آمن وموثوق' },
  'home.featureSecureDesc': { en: 'Enterprise-grade security and data protection', ar: 'أمان على مستوى المؤسسات وحماية البيانات' },
  'home.featureRealtime': { en: 'Real-time Updates', ar: 'تحديثات فورية' },
  'home.featureRealtimeDesc': { en: 'Live queue status and instant notifications', ar: 'حالة الطابور المباشرة وإشعارات فورية' },

  // Status
  'status.title': { en: 'Queue Status', ar: 'حالة الطابور' },
  'status.subtitle': { en: 'Real-time view of all active queues and ticket statuses', ar: 'عرض مباشر لجميع الطوابير النشطة وحالات التذاكر' },
  'status.loading': { en: 'Loading queue status...', ar: 'جاري تحميل حالة الطابور...' },
  'status.totalTickets': { en: 'Total Tickets', ar: 'إجمالي التذاكر' },
  'status.pending': { en: 'Pending', ar: 'قيد الانتظار' },
  'status.active': { en: 'Active', ar: 'نشط' },
  'status.agents': { en: 'Agents', ar: 'الموظفون' },
  'status.liveUpdates': { en: 'Live Updates', ar: 'تحديثات مباشرة' },
  'status.disconnected': { en: 'Disconnected', ar: 'غير متصل' },
  'status.connected': { en: 'Connected', ar: 'متصل' },
  'status.lastUpdated': { en: 'Last updated:', ar: 'آخر تحديث:' },
  'status.refresh': { en: 'Refresh', ar: 'تحديث' },
  'status.noActiveQueues': { en: 'No Active Queues', ar: 'لا توجد طوابير نشطة' },
  'status.noActiveQueuesDesc': { en: 'There are no active queues at the moment. Check back later!', ar: 'لا توجد طوابير نشطة في الوقت الحالي. تحقق مرة أخرى لاحقاً!' },
  'status.noTicketsInQueue': { en: 'No tickets in queue', ar: 'لا توجد تذاكر في الطابور' },
  'status.position': { en: 'Position:', ar: 'الموقع:' },
  'status.called': { en: 'Called', ar: 'تم الاستدعاء' },
  'status.serving': { en: 'Serving', ar: 'قيد الخدمة' },
  'status.completed': { en: 'Completed', ar: 'مكتمل' },
  'status.hold': { en: 'Hold', ar: 'معلق' },
  'status.noShow': { en: 'No Show', ar: 'لم يحضر' },

  // Login
  'login.welcomeBack': { en: 'Welcome Back', ar: 'مرحباً بعودتك' },
  'login.signInToQMS': { en: 'Sign in to your QMS account', ar: 'قم بتسجيل الدخول إلى حساب QMS الخاص بك' },
  'login.login': { en: 'Login', ar: 'تسجيل الدخول' },
  'login.password': { en: 'Password', ar: 'كلمة المرور' },
  'login.enterLoginId': { en: 'Enter your login Id', ar: 'أدخل معرف تسجيل الدخول الخاص بك' },
  'login.enterPassword': { en: 'Enter your password', ar: 'أدخل كلمة المرور الخاصة بك' },
  'login.rememberMe': { en: 'Remember me', ar: 'تذكرني' },
  'login.forgotPassword': { en: 'Forgot password?', ar: 'نسيت كلمة المرور؟' },
  'login.signIn': { en: 'Sign In', ar: 'تسجيل الدخول' },
  'login.signingIn': { en: 'Signing in...', ar: 'جاري تسجيل الدخول...' },
  'login.signInWithMicrosoft': { en: 'Sign in with Microsoft', ar: 'تسجيل الدخول باستخدام Microsoft' },
  'login.failed': { en: 'Login failed', ar: 'فشل تسجيل الدخول' },
  'login.accessDeniedAdmin': { en: 'Access denied. Admin account required.', ar: 'تم رفض الوصول. يلزم حساب المدير.' },
  'login.accessDeniedAgent': { en: 'Access denied. Agent account required.', ar: 'تم رفض الوصول. يلزم حساب الموظف.' },
  'login.useAdminPage': { en: 'Please use the Admin login page to access admin features.', ar: 'يرجى استخدام صفحة تسجيل دخول المدير للوصول إلى ميزات المدير.' },

  // Errors
  'error.nameRequired': { en: 'Name is required', ar: 'الاسم مطلوب' },
  'error.phoneRequired': { en: 'Phone number is required', ar: 'رقم الهاتف مطلوب' },
  'error.failedCheckIn': { en: 'Failed to check in. Please try again.', ar: 'فشل تسجيل الوصول. يرجى المحاولة مرة أخرى.' },
  'error.failedLoadCategories': { en: 'Failed to load service categories. Please try again.', ar: 'فشل تحميل فئات الخدمات. يرجى المحاولة مرة أخرى.' },
  'error.ticketNotFound': { en: 'Ticket not found', ar: 'لم يتم العثور على التذكرة' },

  // Admin Dashboard
  'admin.usersManagement': { en: 'Users Management', ar: 'إدارة المستخدمين' },
  'admin.manageAgentsUsers': { en: 'Manage agents and users', ar: 'إدارة الموظفين والمستخدمين' },
  'admin.categories': { en: 'Services', ar: 'خدمات' },
  'admin.manageCategories': { en: 'Manage service categories', ar: 'إدارة فئات الخدمات' },
  'admin.allQueues': { en: 'All Queues', ar: 'جميع الطوابير' },
  'admin.viewManageQueues': { en: 'View and manage all queues', ar: 'عرض وإدارة جميع الطوابير' },
  'admin.analytics': { en: 'Analytics', ar: 'التحليلات' },
  'admin.viewReports': { en: 'View reports and statistics', ar: 'عرض التقارير والإحصائيات' },
  'admin.view': { en: 'View', ar: 'عرض' },
  'admin.ticketOverview': { en: 'Ticket Overview', ar: 'نظرة عامة على التذاكر' },
  'admin.totalTickets': { en: 'Total Tickets', ar: 'إجمالي التذاكر' },
  'admin.performanceMetrics': { en: 'Performance Metrics', ar: 'مقاييس الأداء' },
  'admin.avgWaitTime': { en: 'Avg Wait Time', ar: 'متوسط وقت الانتظار' },
  'admin.avgServiceTime': { en: 'Avg Service Time', ar: 'متوسط وقت الخدمة' },
  'admin.abandonmentRate': { en: 'Abandonment Rate', ar: 'معدل التخلي' },
  'admin.servicePerformance': { en: 'Service Performance', ar: 'أداء الخدمة' },
  'admin.total': { en: 'Total:', ar: 'الإجمالي:' },
  'admin.completionRate': { en: 'Completion Rate:', ar: 'معدل الإكمال:' },
  'admin.loadingDashboard': { en: 'Loading dashboard...', ar: 'جاري تحميل لوحة التحكم...' },

  // Admin Users
  'admin.users.title': { en: 'Users Management', ar: 'إدارة المستخدمين' },
  'admin.users.backToDashboard': { en: 'Back to Dashboard', ar: 'العودة إلى لوحة التحكم' },
  'admin.users.search': { en: 'Search users...', ar: 'بحث عن مستخدمين...' },
  'admin.users.add': { en: '+ Add', ar: '+ إضافة' },
  'admin.users.editTitle': { en: 'Edit User', ar: 'تعديل مستخدم' },
  'admin.users.editDesc': { en: 'Update user information', ar: 'تحديث معلومات المستخدم' },
  'admin.users.update': { en: 'Update User', ar: 'تحديث المستخدم' },
  'admin.users.updating': { en: 'Updating...', ar: 'جاري التحديث...' },
  'admin.users.createTitle': { en: 'Create New User', ar: 'إنشاء مستخدم جديد' },
  'admin.users.createDesc': { en: 'Add a new user to the system', ar: 'إضافة مستخدم جديد للنظام' },
  'admin.users.create': { en: 'Create User', ar: 'إنشاء مستخدم' },
  'admin.users.creating': { en: 'Creating...', ar: 'جاري الإنشاء...' },
  'admin.users.allUsers': { en: 'All Users', ar: 'جميع المستخدمين' },
  'admin.users.noUsersFound': { en: 'No users found matching your search.', ar: 'لم يتم العثور على مستخدمين مطابقين لبحثك.' },
  'admin.users.noUsersAvailable': { en: 'No users available.', ar: 'لا يوجد مستخدمين متاحين.' },
  'admin.users.table.name': { en: 'Name', ar: 'الاسم' },
  'admin.users.table.email': { en: 'Email', ar: 'البريد الإلكتروني' },
  'admin.users.table.role': { en: 'Role', ar: 'الدور' },
  'admin.users.table.actions': { en: 'Actions', ar: 'إجراءات' },
  'admin.users.role.agent': { en: 'Agent', ar: 'موظف' },
  'admin.users.role.admin': { en: 'Admin', ar: 'مدير' },
  'admin.users.role.customer': { en: 'Customer', ar: 'عميل' },
  'admin.users.deleteConfirm': { en: 'Are you sure you want to delete this user?', ar: 'هل أنت متأكد أنك تريد حذف هذا المستخدم؟' },
  'admin.users.firstName': { en: 'First Name', ar: 'الاسم الأول' },
  'admin.users.lastName': { en: 'Last Name', ar: 'اسم العائلة' },
  'admin.users.password': { en: 'Password', ar: 'كلمة المرور' },
  'admin.users.passwordPlaceholder': { en: 'Password (leave empty to keep current)', ar: 'كلمة المرور (اتركها فارغة للاحتفاظ بالحالية)' },
  'admin.users.employeeId': { en: 'Employee ID', ar: 'الرقم الوظيفي' },
  'admin.users.counterNumber': { en: 'Counter Number', ar: 'رقم الشباك' },
  'admin.users.optional': { en: '(optional)', ar: '(اختياري)' },
  'admin.users.page': { en: 'Page', ar: 'صفحة' },
  'admin.users.previous': { en: 'Previous', ar: 'السابق' },
  'admin.users.loading': { en: 'Loading users...', ar: 'جاري تحميل المستخدمين...' },

  // Admin Categories
  'admin.categories.title': { en: 'Services Management', ar: 'إدارة الخدمات' },
  'admin.categories.search': { en: 'Search services...', ar: 'بحث عن خدمات...' },
  'admin.categories.liveUpdates': { en: 'Live Updates', ar: 'تحديثات مباشرة' },
  'admin.categories.disconnected': { en: 'Disconnected', ar: 'غير متصل' },
  'admin.categories.createTitle': { en: 'Create New Service', ar: 'إنشاء خدمة جديدة' },
  'admin.categories.createDesc': { en: 'Add a new service to the system', ar: 'إضافة خدمة جديدة للنظام' },
  'admin.categories.editTitle': { en: 'Edit Service', ar: 'تعديل الخدمة' },
  'admin.categories.editDesc': { en: 'Update service details and assign agents', ar: 'تحديث تفاصيل الخدمة وتعيين الموظفين' },
  'admin.categories.create': { en: 'Create Service', ar: 'إنشاء خدمة' },
  'admin.categories.serviceName': { en: 'Service Name', ar: 'اسم الخدمة' },
  'admin.categories.description': { en: 'Description', ar: 'الوصف' },
  'admin.categories.estWaitTime': { en: 'Estimated Wait Time (minutes)', ar: 'وقت الانتظار المتوقع (دقائق)' },
  'admin.categories.estWait': { en: 'Est. wait:', ar: 'الوقت المتوقع:' },
  'admin.categories.assignedAgents': { en: 'Assigned Agents', ar: 'الموظفون المعينون' },
  'admin.categories.assign': { en: 'Assign', ar: 'تعيين' },
  'admin.categories.selectAgent': { en: 'Select agent...', ar: 'اختر موظفاً...' },
  'admin.categories.remove': { en: 'Remove', ar: 'إزالة' },
  'admin.categories.noAgents': { en: 'No agents assigned', ar: 'لم يتم تعيين موظفين' },
  'admin.categories.deleteConfirm': { en: 'Are you sure you want to delete this service?', ar: 'هل أنت متأكد أنك تريد حذف هذه الخدمة؟' },
  'admin.categories.removeAgentConfirm': { en: 'Remove this agent from service?', ar: 'إزالة هذا الموظف من الخدمة؟' },
  'admin.categories.loading': { en: 'Loading categories...', ar: 'جاري تحميل الخدمات...' },

  // Admin Queues
  'admin.queues.title': { en: 'Queue Management', ar: 'إدارة الطوابير' },
  'admin.queues.selectAgentOrCategory': { en: 'Select Agent or Category', ar: 'اختر موظفاً أو فئة' },
  'admin.queues.filterByAgent': { en: 'Filter by Agent', ar: 'تصفية حسب الموظف' },
  'admin.queues.searchAgents': { en: 'Search agents...', ar: 'بحث عن موظفين...' },
  'admin.queues.filterByCategory': { en: 'Filter by Category', ar: 'تصفية حسب الفئة' },
  'admin.queues.selectCategory': { en: 'Select a category...', ar: 'اختر فئة...' },
  'admin.queues.selectAgent': { en: 'Select an agent...', ar: 'اختر موظفاً...' },
  'admin.queues.agentsFound': { en: 'agents found. Click on one to select.', ar: 'موظفين تم العثور عليهم. اضغط للاختيار.' },
  'admin.queues.queueFor': { en: 'Queue for', ar: 'طابور لـ' },
  'admin.queues.callNext': { en: 'Call Next', ar: 'استدعاء التالي' },
  'admin.queues.noTickets': { en: 'No tickets in queue', ar: 'لا توجد تذاكر في الطابور' },
  'admin.queues.activeTickets': { en: 'Active Tickets', ar: 'التذاكر النشطة' },
  'admin.queues.reopen': { en: 'Reopen', ar: 'إعادة فتح' },
  'admin.queues.complete': { en: 'Complete', ar: 'إكمال' },
  'admin.queues.delete': { en: 'Delete', ar: 'حذف' },
  'admin.queues.pendingTickets': { en: 'Pending Tickets', ar: 'التذاكر قيد الانتظار' },
  'admin.queues.noPendingTickets': { en: 'No pending tickets', ar: 'لا توجد تذاكر قيد الانتظار' },
  'admin.queues.queuesForCategory': { en: 'Queues for Category', ar: 'طوابير الفئة' },
  'admin.queues.selectAgentToManage': { en: 'Select an agent from the list above to manage their queue', ar: 'اختر موظفاً من القائمة أعلاه لإدارة طابوره' },
  'admin.queues.clickToManage': { en: 'Click to manage queue', ar: 'اضغط لإدارة الطابور' },
  'admin.queues.editTicket': { en: 'Edit Ticket', ar: 'تعديل التذكرة' },
  'admin.queues.customerName': { en: 'Customer Name', ar: 'اسم العميل' },
  'admin.queues.customerPhone': { en: 'Customer Phone', ar: 'هاتف العميل' },
  'admin.queues.customerEmail': { en: 'Customer Email', ar: 'البريد الإلكتروني للعميل' },
  'admin.queues.enterName': { en: 'Enter customer name', ar: 'أدخل اسم العميل' },
  'admin.queues.enterPhone': { en: 'Enter phone number', ar: 'أدخل رقم الهاتف' },
  'admin.queues.enterEmail': { en: 'Enter email address', ar: 'أدخل البريد الإلكتروني' },
  'admin.queues.alert.loadQueue': { en: 'Failed to load queue', ar: 'فشل تحميل قائمة الانتظار' },
  'admin.queues.alert.reorderQueue': { en: 'Failed to reorder queue', ar: 'فشل إعادة ترتيب قائمة الانتظار' },
  'admin.queues.alert.callNext': { en: 'Failed to call next', ar: 'فشل استدعاء التالي' },
  'admin.queues.alert.completeTicket': { en: 'Failed to complete ticket', ar: 'فشل إكمال التذكرة' },
  'admin.queues.alert.holdTicket': { en: 'Failed to put ticket on hold', ar: 'فشل وضع التذكرة في الانتظار' },
  'admin.queues.alert.deleteTicket': { en: 'Failed to delete ticket', ar: 'فشل حذف التذكرة' },
  'admin.queues.alert.reopenTicket': { en: 'Failed to reopen ticket', ar: 'فشل إعادة فتح التذكرة' },
  'admin.queues.alert.updateTicket': { en: 'Failed to update ticket', ar: 'فشل تحديث التذكرة' },
  'admin.queues.confirmComplete': { en: 'Mark this ticket as completed?', ar: 'تحديد هذه التذكرة كمكتملة؟' },
  'admin.queues.confirmHold': { en: 'Put this ticket on hold?', ar: 'وضع هذه التذكرة في الانتظار؟' },
  'admin.queues.confirmDelete': { en: 'Are you sure you want to delete this ticket? This action cannot be undone.', ar: 'هل أنت متأكد أنك تريد حذف هذه التذكرة؟ لا يمكن التراجع عن هذا الإجراء.' },
  'admin.queues.confirmReopen': { en: 'Reopen this ticket? It will be added back to the queue.', ar: 'إعادة فتح هذه التذكرة؟ ستتم إضافتها مرة أخرى إلى الطابور.' },
  'admin.queues.noAgentsFound': { en: 'No agents found', ar: 'لم يتم العثور على موظفين' },
  'admin.queues.tickets': { en: 'tickets', ar: 'تذاكر' },
  'admin.queues.searchTickets': { en: 'Search tickets...', ar: 'بحث عن تذاكر...' },
  'admin.queues.noTicketsFound': { en: 'No tickets found for the selected date range.', ar: 'لم يتم العثور على تذاكر للفترة المحددة.' },
  'admin.queues.alert.loadHistory': { en: 'Failed to load agent history. Please check backend permissions.', ar: 'فشل تحميل سجل الموظف. يرجى التحقق من أذونات الخادم.' },

  // Admin Visitors
  'admin.visitors': { en: 'Visitors', ar: 'الزوار' },
  'admin.visitors.searchPlaceholder': { en: 'Search by name, ticket number...', ar: 'بحث بالاسم، رقم التذكرة...' },
  'admin.visitors.noVisitors': { en: 'No visitors found', ar: 'لم يتم العثور على زوار' },
  'admin.visitors.noVisitorsDesc': { en: 'Try adjusting your filters or date range', ar: 'حاول تعديل المرشحات أو النطاق الزمني' },
  'admin.visitors.totalVisitors': { en: '{count} visitor{plural} found', ar: 'تم العثور على {count} زائر{plural}' },
  'admin.visitors.visitor': { en: 'Visitor', ar: 'زائر' },
  'admin.visitors.ticketNumber': { en: 'Ticket Number', ar: 'رقم التذكرة' },
  'admin.visitors.service': { en: 'Service', ar: 'الخدمة' },
  'admin.visitors.checkInTime': { en: 'Check-in Time', ar: 'وقت التسجيل' },
  'admin.visitors.status': { en: 'Status', ar: 'الحالة' },
  'admin.visitors.actions': { en: 'Actions', ar: 'إجراءات' },
  'admin.visitors.view': { en: 'View', ar: 'عرض' },
  'admin.visitors.viewDetails': { en: 'View Details', ar: 'عرض التفاصيل' },
  'admin.visitors.anonymous': { en: 'Anonymous', ar: 'مجهول' },
  'admin.visitors.duration': { en: '{minutes} min', ar: '{minutes} دقيقة' },
  'admin.visitors.visitorDetails': { en: 'Visitor Details', ar: 'تفاصيل الزائر' },
  'admin.visitors.notFound': { en: 'Visitor not found', ar: 'لم يتم العثور على الزائر' },
  'admin.visitors.backToVisitors': { en: 'Back to Visitors', ar: 'العودة إلى الزوار' },
  'admin.visitors.waitTime': { en: 'Wait Time', ar: 'وقت الانتظار' },
  'admin.visitors.serviceTime': { en: 'Service Time', ar: 'وقت الخدمة' },
  'admin.visitors.inProgress': { en: 'In Progress', ar: 'قيد التنفيذ' },
  'admin.visitors.agent': { en: 'Agent', ar: 'الموظف' },
  'admin.visitors.visitorAnalytics': { en: 'Visitor Analytics', ar: 'تحليلات الزائر' },
  'admin.visitors.totalVisits': { en: 'Total Visits', ar: 'إجمالي الزيارات' },
  'admin.visitors.completedVisits': { en: 'Completed', ar: 'مكتمل' },
  'admin.visitors.avgServiceTime': { en: 'Avg Service Time', ar: 'متوسط وقت الخدمة' },
  'admin.visitors.avgWaitTime': { en: 'Avg Wait Time', ar: 'متوسط وقت الانتظار' },
  'admin.visitors.completionRate': { en: 'Completion Rate', ar: 'معدل الإكمال' },
  'admin.visitors.servicesUsed': { en: 'Services Used', ar: 'الخدمات المستخدمة' },
  'admin.visitors.visitHistory': { en: 'Visit History', ar: 'سجل الزيارات' },
  'admin.visitors.currentVisit': { en: 'Current Visit', ar: 'الزيارة الحالية' },
  'admin.visitors.date': { en: 'Date', ar: 'التاريخ' },
  'admin.visitors.notes': { en: 'Notes', ar: 'ملاحظات' },

  // Admin Analytics
  'admin.analytics.title': { en: 'Analytics Dashboard', ar: 'لوحة تحكم التحليلات' },

  // Settings
  'settings.account.title': { en: 'My Account', ar: 'حسابي' },
  'settings.account.subtitle': { en: 'Manage your account information and preferences', ar: 'إدارة معلومات حسابك وتفضيلاتك' },
  'settings.account.backToDashboard': { en: 'Back to Dashboard', ar: 'العودة إلى لوحة القيادة' },
  'settings.account.success': { en: 'Profile updated successfully!', ar: 'تم تحديث الملف الشخصي بنجاح!' },
  'settings.account.failed': { en: 'Failed to update profile', ar: 'فشل تحديث الملف الشخصي' },
  'settings.account.saveChanges': { en: 'Save Changes', ar: 'حفظ التغييرات' },
  'settings.account.saving': { en: 'Saving...', ar: 'جاري الحفظ...' },
  'settings.account.accountType': { en: 'Account Type', ar: 'نوع الحساب' },
  'settings.account.userId': { en: 'User ID', ar: 'معرف المستخدم' },

  'settings.appearance.title': { en: 'Themes and Layout', ar: 'السمات والتخطيط' },
  'settings.appearance.subtitle': { en: 'Customize the theme and colors of your interface', ar: 'تخصيص مظهر وألوان واجهتك' },
  'settings.appearance.themeMode': { en: 'Theme Mode', ar: 'وضع السمة' },
  'settings.appearance.themeModeDesc': { en: 'Choose how the theme should be applied', ar: 'اختر كيفية تطبيق السمة' },
  'settings.appearance.light': { en: 'Light', ar: 'فاتح' },
  'settings.appearance.lightDesc': { en: 'Always use light theme', ar: 'استخدم السمة الفاتحة دائمًا' },
  'settings.appearance.dark': { en: 'Dark', ar: 'داكن' },
  'settings.appearance.darkDesc': { en: 'Always use dark theme', ar: 'استخدم السمة الداكنة دائمًا' },
  'settings.appearance.system': { en: 'System', ar: 'النظام' },
  'settings.appearance.systemDesc': { en: 'Follow system preference', ar: 'اتبع تفضيلات النظام' },
  'settings.appearance.primaryColor': { en: 'Primary Color', ar: 'اللون الأساسي' },
  'settings.appearance.primaryColorDesc': { en: 'Choose your preferred primary color', ar: 'اختر لونك الأساسي المفضل' },
  'settings.appearance.currentColor': { en: 'Current Color', ar: 'اللون الحالي' },
  'settings.appearance.preview': { en: 'Preview', ar: 'معاينة' },
  'settings.appearance.previewDesc': { en: 'See how your theme looks', ar: 'انظر كيف يبدو مظهرك' },
  'settings.appearance.primaryButton': { en: 'Primary Button', ar: 'الزر الأساسي' },
  'settings.appearance.secondaryButton': { en: 'Secondary Button', ar: 'الزر الثانوي' },
  'settings.appearance.badgeComponent': { en: 'Badge Component', ar: 'مكون الشارة' },
  'settings.appearance.progress': { en: 'Progress', ar: 'تقدم' },

  'settings.password.title': { en: 'Update Password', ar: 'تحديث كلمة المرور' },
  'settings.password.subtitle': { en: 'Enter your current password and choose a new secure password', ar: 'أدخل كلمة المرور الحالية واختر كلمة مرور جديدة آمنة' },
  'settings.password.currentPassword': { en: 'Current Password', ar: 'كلمة المرور الحالية' },
  'settings.password.newPassword': { en: 'New Password', ar: 'كلمة المرور الجديدة' },
  'settings.password.confirmPassword': { en: 'Confirm New Password', ar: 'تأكيد كلمة المرور الجديدة' },
  'settings.password.enterCurrent': { en: 'Enter your current password', ar: 'أدخل كلمة المرور الحالية' },
  'settings.password.enterNew': { en: 'Enter your new password', ar: 'أدخل كلمة المرور الجديدة' },
  'settings.password.confirmNew': { en: 'Confirm your new password', ar: 'أكد كلمة المرور الجديدة' },
  'settings.password.update': { en: 'Update Password', ar: 'تحديث كلمة المرور' },
  'settings.password.updating': { en: 'Updating...', ar: 'جاري التحديث...' },
  'settings.password.success': { en: 'Password updated successfully!', ar: 'تم تحديث كلمة المرور بنجاح!' },
  'settings.password.failed': { en: 'Failed to update password', ar: 'فشل تحديث كلمة المرور' },
  'settings.password.requirements': { en: 'Password Requirements', ar: 'متطلبات كلمة المرور' },
  'settings.password.req.length': { en: 'At least 8 characters', ar: '8 أحرف على الأقل' },
  'settings.password.req.uppercase': { en: 'One uppercase letter', ar: 'حرف كبير واحد' },
  'settings.password.req.lowercase': { en: 'One lowercase letter', ar: 'حرف صغير واحد' },
  'settings.password.req.number': { en: 'One number', ar: 'رقم واحد' },
  'settings.password.req.special': { en: 'One special character', ar: 'حرف خاص واحد' },
  'settings.password.mismatch': { en: 'New passwords do not match', ar: 'كلمات المرور الجديدة غير متطابقة' },

  'settings.application.title': { en: 'Application Settings', ar: 'إعدادات التطبيق' },
  'settings.application.subtitle': { en: 'Configure application name, logo, and notification settings', ar: 'تكوين اسم التطبيق والشعار وإعدادات الإشعارات' },
  'settings.application.appName': { en: 'Application Name', ar: 'اسم التطبيق' },
  'settings.application.appNameDesc': { en: 'The name displayed throughout the application', ar: 'الاسم المعروض في جميع أنحاء التطبيق' },
  'settings.application.logo': { en: 'Application Logo', ar: 'شعار التطبيق' },
  'settings.application.logoUrl': { en: 'Logo URL', ar: 'رابط الشعار' },
  'settings.application.logoUrlDesc': { en: 'Enter the URL of your logo image', ar: 'أدخل رابط صورة الشعار' },
  'settings.application.showLogo': { en: 'Show Logo', ar: 'عرض الشعار' },
  'settings.application.showLogoDesc': { en: 'Display the logo next to the application name', ar: 'عرض الشعار بجانب اسم التطبيق' },
  'settings.application.notificationSettings': { en: 'Notification Settings', ar: 'إعدادات الإشعارات' },
  'settings.application.notificationMethod': { en: 'Notification Method', ar: 'طريقة الإشعار' },
  'settings.application.notificationMethodDesc': { en: 'Choose how to send notifications to customers', ar: 'اختر كيفية إرسال الإشعارات للعملاء' },
  'settings.application.noNotification': { en: 'No Notification', ar: 'لا إشعارات' },
  'settings.application.smsOnly': { en: 'SMS Only', ar: 'رسائل نصية فقط' },
  'settings.application.emailOnly': { en: 'Email Only', ar: 'بريد إلكتروني فقط' },
  'settings.application.both': { en: 'Both', ar: 'كلاهما' },
  'settings.application.configureEmail': { en: 'Configure Email', ar: 'تكوين البريد الإلكتروني' },
  'settings.application.configureSMS': { en: 'Configure SMS', ar: 'تكوين الرسائل النصية' },
  'settings.application.emailConfig': { en: 'Email Configuration', ar: 'تكوين البريد الإلكتروني' },
  'settings.application.smsConfig': { en: 'SMS Configuration', ar: 'تكوين الرسائل النصية' },
  'settings.application.smtpHost': { en: 'SMTP Host', ar: 'خادم SMTP' },
  'settings.application.smtpPort': { en: 'SMTP Port', ar: 'منفذ SMTP' },
  'settings.application.smtpUser': { en: 'SMTP Username', ar: 'اسم مستخدم SMTP' },
  'settings.application.smtpPassword': { en: 'SMTP Password', ar: 'كلمة مرور SMTP' },
  'settings.application.smtpFromEmail': { en: 'From Email', ar: 'البريد الإلكتروني المرسل' },
  'settings.application.smtpFromName': { en: 'From Name', ar: 'اسم المرسل' },
  'settings.application.twilioAccountSid': { en: 'Twilio Account SID', ar: 'معرف حساب Twilio' },
  'settings.application.twilioAuthToken': { en: 'Twilio Auth Token', ar: 'رمز مصادقة Twilio' },
  'settings.application.twilioFromNumber': { en: 'Twilio From Number', ar: 'رقم Twilio المرسل' },
  'settings.application.save': { en: 'Save', ar: 'حفظ' },
  'settings.application.saving': { en: 'Saving...', ar: 'جاري الحفظ...' },
  'settings.application.success': { en: 'Settings saved successfully!', ar: 'تم حفظ الإعدادات بنجاح!' },
  'settings.application.failed': { en: 'Failed to save settings', ar: 'فشل حفظ الإعدادات' },
  'admin.analytics.refresh': { en: 'Refresh', ar: 'تحديث' },
  'admin.analytics.export': { en: 'Export', ar: 'تصدير' },
  'admin.analytics.startDate': { en: 'Start Date', ar: 'تاريخ البدء' },
  'admin.analytics.endDate': { en: 'End Date', ar: 'تاريخ الانتهاء' },
  'admin.analytics.exportFormat': { en: 'Export Format', ar: 'تنسيق التصدير' },
  'admin.analytics.excel': { en: 'Excel', ar: 'Excel' },
  'admin.analytics.pdf': { en: 'PDF', ar: 'PDF' },
  'admin.analytics.agentPerformance': { en: 'Agent Performance', ar: 'أداء الموظف' },
  'admin.analytics.searchAgentsByEmail': { en: 'Search agents by name or email...', ar: 'بحث عن الموظفين بالاسم أو البريد الإلكتروني...' },
  'admin.analytics.allServices': { en: 'All Services', ar: 'جميع الخدمات' },
  'admin.analytics.totalAgents': { en: 'Total Agents', ar: 'إجمالي الموظفين' },
  'admin.analytics.totalTickets': { en: 'Total Tickets', ar: 'إجمالي التذاكر' },
  'admin.analytics.completed': { en: 'Completed', ar: 'مكتمل' },
  'admin.analytics.avgServiceTime': { en: 'Avg Service Time', ar: 'متوسط وقت الخدمة' },
  'admin.analytics.table.agent': { en: 'Agent', ar: 'الموظف' },
  'admin.analytics.table.totals': { en: 'Totals', ar: 'الإجماليات' },
  'admin.analytics.table.statusBreakdown': { en: 'Status Breakdown', ar: 'تفاصيل الحالة' },
  'admin.analytics.table.timeMetrics': { en: 'Time Metrics', ar: 'مقاييس الوقت' },
  'admin.analytics.table.performance': { en: 'Performance', ar: 'الأداء' },
  'admin.analytics.statusDistribution': { en: 'Ticket Status Distribution', ar: 'توزيع حالة التذاكر' },
  'admin.analytics.dailyTrends': { en: 'Daily Ticket Trends', ar: 'اتجاهات التذاكر اليومية' },
  'admin.analytics.hourlyDistribution': { en: 'Hourly Ticket Distribution', ar: 'توزيع التذاكر بالساعة' },
  'admin.analytics.dayOfWeekDistribution': { en: 'Day of Week Distribution', ar: 'توزيع أيام الأسبوع' },
  'admin.analytics.servicePerformance': { en: 'Service Category Performance', ar: 'أداء فئة الخدمة' },
  'admin.analytics.agentPerformanceComparison': { en: 'Agent Performance (Top 10)', ar: 'أداء الموظفين (أفضل 10)' },
  'admin.analytics.peakHours': { en: 'Peak Hours Heatmap', ar: 'خريطة ساعات الذروة' },
  'admin.analytics.noAgentsFound': { en: 'No agents found matching your filters', ar: 'لم يتم العثور على موظفين مطابقين لمرشحاتك' },
  'admin.analytics.noData': { en: 'No agent performance data available', ar: 'لا تتوفر بيانات أداء الموظف' },
  'admin.analytics.loading': { en: 'Loading analytics...', ar: 'جاري تحميل التحليلات...' },
  'admin.analytics.wait': { en: 'Wait', ar: 'انتظار' },
  'admin.analytics.service': { en: 'Service', ar: 'خدمة' },
  'admin.analytics.total': { en: 'Total', ar: 'الإجمالي' },
  'admin.analytics.calledToServing': { en: 'Called→Serving', ar: 'استدعاء←خدمة' },
  'admin.analytics.services': { en: 'Services', ar: 'خدمات' },
  'admin.analytics.period': { en: 'Period:', ar: 'الفترة:' },
  'admin.analytics.today': { en: 'Today', ar: 'اليوم' },
  'admin.analytics.thisWeek': { en: 'This Week', ar: 'هذا الأسبوع' },
  'admin.analytics.thisMonth': { en: 'This Month', ar: 'هذا الشهر' },
  'admin.analytics.custom': { en: 'Custom', ar: 'مخصص' },
  'admin.analytics.to': { en: 'to', ar: 'إلى' },
  'admin.analytics.searchAnalytics': { en: 'Search analytics...', ar: 'بحث في التحليلات...' },
  'admin.analytics.agentAnalytics': { en: 'Agent Analytics', ar: 'تحليلات الموظفين' },
  'admin.analytics.serviceAnalytics': { en: 'Service Analytics', ar: 'تحليلات الخدمات' },
  'admin.analytics.backToAnalytics': { en: 'Back to Analytics', ar: 'العودة إلى التحليلات' },
  'admin.analytics.agentBasedAnalytics': { en: 'Agent-Based Analytics', ar: 'تحليلات قائمة على الموظفين' },
  'admin.analytics.serviceBasedAnalytics': { en: 'Service-Based Analytics', ar: 'تحليلات قائمة على الخدمات' },
  'admin.analytics.searchAgents': { en: 'Search agents...', ar: 'بحث عن موظفين...' },
  'admin.analytics.searchServices': { en: 'Search services...', ar: 'بحث عن خدمات...' },
  'admin.analytics.suggestions': { en: 'Suggestions', ar: 'اقتراحات' },
  'admin.analytics.topAgents': { en: 'Top Agents', ar: 'أفضل الموظفين' },
  'admin.analytics.topServices': { en: 'Top Services', ar: 'أفضل الخدمات' },
  'admin.analytics.tickets': { en: 'tickets', ar: 'تذاكر' },
  'admin.analytics.completion': { en: 'completion', ar: 'إكمال' },
  'admin.analytics.totalServices': { en: 'Total Services', ar: 'إجمالي الخدمات' },
  'admin.analytics.loadingAgentAnalytics': { en: 'Loading agent analytics...', ar: 'جاري تحميل تحليلات الموظفين...' },
  'admin.analytics.loadingServiceAnalytics': { en: 'Loading service analytics...', ar: 'جاري تحميل تحليلات الخدمات...' },
  'admin.analytics.completionRate': { en: 'Completion Rate', ar: 'معدل الإكمال' },
  'admin.analytics.completionRateByAgent': { en: 'Completion Rate by Agent', ar: 'معدل الإكمال حسب الموظف' },
  'admin.analytics.avgServiceTimeByAgent': { en: 'Average Service Time by Agent', ar: 'متوسط وقت الخدمة حسب الموظف' },
  'admin.analytics.ticketsByStatus': { en: 'Tickets by Status', ar: 'التذاكر حسب الحالة' },
  'admin.analytics.topPerformers': { en: 'Top Performers', ar: 'أفضل الأداء' },
  'admin.analytics.topPerformersCompleted': { en: 'Top Performers (Completed Tickets)', ar: 'أفضل الأداء (التذاكر المكتملة)' },
  'admin.analytics.agentPerformanceDetails': { en: 'Agent Performance Details', ar: 'تفاصيل أداء الموظفين' },
  'admin.analytics.servicePerformanceDetails': { en: 'Service Performance Details', ar: 'تفاصيل أداء الخدمات' },
  'admin.analytics.ticketsByService': { en: 'Tickets by Service', ar: 'التذاكر حسب الخدمة' },
  'admin.analytics.completionRateByService': { en: 'Completion Rate by Service', ar: 'معدل الإكمال حسب الخدمة' },
  'admin.analytics.avgServiceTimeByService': { en: 'Average Service Time by Service', ar: 'متوسط وقت الخدمة حسب الخدمة' },
  'admin.analytics.statusBreakdown': { en: 'Status Breakdown', ar: 'تفاصيل الحالة' },
  'admin.analytics.timeMetrics': { en: 'Time Metrics', ar: 'مقاييس الوقت' },
  'admin.analytics.avgTotalTime': { en: 'Avg Total Time', ar: 'متوسط الوقت الإجمالي' },
  'admin.analytics.noServicesFound': { en: 'No services found', ar: 'لم يتم العثور على خدمات' },
  'admin.analytics.noDataAvailable': { en: 'No data available', ar: 'لا توجد بيانات متاحة' },
  'admin.analytics.resetToDefault': { en: 'Reset to default', ar: 'إعادة تعيين إلى الافتراضي' },
  'admin.analytics.clearFilter': { en: 'Clear filter', ar: 'مسح الفلتر' },
  'admin.analytics.exportAnalytics': { en: 'Export Analytics', ar: 'تصدير التحليلات' },
  'admin.analytics.filterByServices': { en: 'Filter by Services (Optional)', ar: 'تصفية حسب الخدمات (اختياري)' },
  'admin.analytics.selectServicesDesc': { en: 'Select specific services to include in the report. Leave empty to include all services.', ar: 'اختر خدمات محددة لتضمينها في التقرير. اتركه فارغًا لتضمين جميع الخدمات.' },
  'admin.analytics.selected': { en: 'Selected', ar: 'المحدد' },
  'admin.analytics.of': { en: 'of', ar: 'من' },
  'admin.analytics.selectAll': { en: 'Select All', ar: 'تحديد الكل' },
  'admin.analytics.clear': { en: 'Clear', ar: 'مسح' },
  'admin.analytics.selectWidgetsToExport': { en: 'Select Widgets to Export', ar: 'اختر العناصر للتصدير' },
  'admin.analytics.exporting': { en: 'Exporting...', ar: 'جاري التصدير...' },
  'admin.analytics.exportAnalyticsButton': { en: 'Export Analytics', ar: 'تصدير التحليلات' },
  'admin.analytics.filterByAgents': { en: 'Filter by Agents (Optional)', ar: 'تصفية حسب الموظفين (اختياري)' },
  'admin.analytics.selectAgentsDesc': { en: 'Select specific agents to include in the report. Leave empty to include all agents.', ar: 'اختر موظفين محددين لتضمينهم في التقرير. اتركه فارغًا لتضمين جميع الموظفين.' },
  'admin.analytics.agents': { en: 'agents', ar: 'موظفين' },
  'admin.analytics.noAgentsAvailable': { en: 'No agents available', ar: 'لا يوجد موظفين متاحين' },
  'admin.analytics.unknownAgent': { en: 'Unknown Agent', ar: 'موظف غير معروف' },
  'admin.analytics.widgets': { en: 'widgets', ar: 'عناصر' },
  'admin.analytics.excelCsv': { en: 'Excel (CSV)', ar: 'Excel (CSV)' },
  'admin.analytics.deselectAll': { en: 'Deselect All', ar: 'إلغاء تحديد الكل' },
  'admin.analytics.widget.summary': { en: 'Summary Metrics', ar: 'مقاييس الملخص' },
  'admin.analytics.widget.ticketCounts': { en: 'Ticket Counts', ar: 'عدد التذاكر' },
  'admin.analytics.widget.servicePerformance': { en: 'Service Performance', ar: 'أداء الخدمة' },
  'admin.analytics.widget.agentPerformance': { en: 'Agent Performance', ar: 'أداء الموظف' },
  'admin.analytics.widget.dailyTrends': { en: 'Daily Trends', ar: 'الاتجاهات اليومية' },
  'admin.analytics.widget.hourlyDistribution': { en: 'Hourly Distribution', ar: 'التوزيع بالساعة' },
  'admin.analytics.widget.dayOfWeek': { en: 'Day of Week Distribution', ar: 'توزيع أيام الأسبوع' },
  'admin.analytics.widget.statusDistribution': { en: 'Status Distribution', ar: 'توزيع الحالة' },
  'admin.analytics.widget.peakHours': { en: 'Peak Hours', ar: 'ساعات الذروة' },
  'admin.analytics.widget.categoryStats': { en: 'Category Stats', ar: 'إحصائيات الفئة' },
  'admin.analytics.noCategoriesAvailable': { en: 'No categories available', ar: 'لا توجد فئات متاحة' },
  'admin.analytics.unknown': { en: 'Unknown', ar: 'غير معروف' },
  'theme.toggleTheme': { en: 'Toggle theme', ar: 'تبديل المظهر' },
  'theme.currentTheme': { en: 'Current theme', ar: 'المظهر الحالي' },
  'theme.light': { en: 'Light', ar: 'فاتح' },
  'theme.dark': { en: 'Dark', ar: 'داكن' },
  'theme.system': { en: 'System', ar: 'النظام' },
  'theme.lightMode': { en: 'Light mode', ar: 'الوضع الفاتح' },
  'theme.darkMode': { en: 'Dark mode', ar: 'الوضع الداكن' },
  'theme.systemMode': { en: 'System mode', ar: 'وضع النظام' },
  'agent.calendar.searchTickets': { en: 'Search tickets, updates...', ar: 'بحث عن التذاكر، التحديثات...' },
  'agent.calendar.searchTicketsSimple': { en: 'Search tickets...', ar: 'بحث عن التذاكر...' },
  'agent.calendar.listViewDesc': { en: 'List view of customer appointments', ar: 'عرض قائمة مواعيد العملاء' },
  'agent.calendar.startDate': { en: 'Start Date:', ar: 'تاريخ البداية:' },
  'agent.calendar.endDate': { en: 'End Date:', ar: 'تاريخ النهاية:' },
  'agent.calendar.token': { en: 'Token', ar: 'الرمز' },
  'agent.calendar.customerName': { en: 'Customer Name', ar: 'اسم العميل' },
  'agent.calendar.service': { en: 'Service', ar: 'الخدمة' },
  'agent.calendar.actions': { en: 'Actions', ar: 'الإجراءات' },
  'agent.calendar.noTicketsFound': { en: 'No tickets found', ar: 'لم يتم العثور على تذاكر' },
  'agent.calendar.noTicketsAvailable': { en: 'No tickets available', ar: 'لا توجد تذاكر متاحة' },
  'agent.calendar.history': { en: 'History', ar: 'السجل' },
  'agent.calendar.status': { en: 'Status:', ar: 'الحالة:' },
  'agent.calendar.position': { en: 'Position:', ar: 'الموقع:' },
  'agent.calendar.customerInformation': { en: 'Customer Information', ar: 'معلومات العميل' },
  'agent.calendar.timeline': { en: 'Timeline', ar: 'الجدول الزمني' },
  'agent.calendar.viewDetails': { en: 'View Details', ar: 'عرض التفاصيل' },
  'agent.calendar.holdNoShowAt': { en: 'Hold/No Show At', ar: 'تاريخ التعليق/عدم الحضور' },
  'agent.calendar.status.completed': { en: 'completed', ar: 'مكتمل' },
  'agent.calendar.status.pending': { en: 'pending', ar: 'قيد الانتظار' },
  'agent.calendar.status.serving': { en: 'serving', ar: 'قيد الخدمة' },
  'agent.calendar.status.hold': { en: 'hold', ar: 'معلق' },
  'agent.calendar.status.no_show': { en: 'no_show', ar: 'لم يحضر' },
  'agent.calendar.ticketHistory': { en: 'Ticket History', ar: 'سجل التذاكر' },
  'agent.calendar.previous': { en: 'Previous', ar: 'السابق' },
  'agent.calendar.next': { en: 'Next', ar: 'التالي' },
  'agent.calendar.page': { en: 'Page', ar: 'صفحة' },
  'agent.calendar.itemsPerPage': { en: 'Items per page:', ar: 'العناصر في الصفحة:' },
  'agent.calendar.category': { en: 'Category:', ar: 'الفئة:' },

  // Additional missing translations
  'common.username': { en: 'Username', ar: 'اسم المستخدم' },
  'common.calendar': { en: 'Calendar', ar: 'التقويم' },
  'common.note': { en: 'Note', ar: 'ملاحظة' },
  'common.noteOptional': { en: 'Note (Optional)', ar: 'ملاحظة (اختياري)' },
  'common.addNote': { en: 'Add a note about this ticket...', ar: 'أضف ملاحظة حول هذه التذكرة...' },
  'common.ticketId': { en: 'Ticket ID', ar: 'معرف التذكرة' },
  'common.noNote': { en: 'No note', ar: 'لا توجد ملاحظة' },
  'common.reason': { en: 'Reason', ar: 'السبب' },
  'common.putTicketOnHold': { en: 'Put Ticket on Hold', ar: 'وضع التذكرة في الانتظار' },
  'common.putOnHold': { en: 'Put on Hold', ar: 'وضع في الانتظار' },
  'common.pleaseProvideReason': { en: 'Please provide a reason for putting this ticket on hold. This is required.', ar: 'يرجى تقديم سبب لوضع هذه التذكرة في الانتظار. هذا مطلوب.' },
  'common.enterReason': { en: 'Enter the reason for putting this ticket on hold...', ar: 'أدخل سبب وضع هذه التذكرة في الانتظار...' },
  'common.delete': { en: 'Delete', ar: 'حذف' },
  'common.reassign': { en: 'Reassign', ar: 'إعادة تعيين' },
  'common.complete': { en: 'Complete', ar: 'إكمال' },
  'common.queue': { en: 'Queue', ar: 'الطابور' },
  'common.history': { en: 'History', ar: 'السجل' },
  'common.customerHistory': { en: 'Customer history', ar: 'سجل العميل' },
  'common.calendarView': { en: 'Calendar view of customer appointments', ar: 'عرض التقويم لمواعيد العملاء' },
  'common.day': { en: 'Day', ar: 'يوم' },
  'common.week': { en: 'Week', ar: 'أسبوع' },
  'common.month': { en: 'Month', ar: 'شهر' },
  'common.startDate': { en: 'Start Date', ar: 'تاريخ البداية' },
  'common.endDate': { en: 'End Date', ar: 'تاريخ النهاية' },
  'common.token': { en: 'Token', ar: 'الرمز' },
  'common.service': { en: 'Service', ar: 'الخدمة' },
  'common.createdAt': { en: 'Created At', ar: 'تاريخ الإنشاء' },
  'common.actions': { en: 'Actions', ar: 'الإجراءات' },
  'common.list': { en: 'List', ar: 'قائمة' },
  'common.customer': { en: 'Customer', ar: 'العميل' },
  'common.category': { en: 'Category', ar: 'الفئة' },
  'common.today': { en: 'Today', ar: 'اليوم' },
  'common.loadingCalendar': { en: 'Loading calendar...', ar: 'جاري تحميل التقويم...' },
  'common.moreTickets': { en: 'more tickets', ar: 'تذاكر إضافية' },
  'common.ticket': { en: 'Ticket', ar: 'تذكرة' },
  'common.tickets': { en: 'tickets', ar: 'تذاكر' },
  'common.noOtherAgents': { en: 'No other agents available for this service.', ar: 'لا يوجد موظفون آخرون متاحون لهذه الخدمة.' },
  'common.reassignTicket': { en: 'Reassign Ticket', ar: 'إعادة تعيين التذكرة' },
  'common.selectAgentToReassign': { en: 'Select another agent in the same service ({categoryName}) to reassign this ticket to.', ar: 'اختر موظفاً آخر في نفس الخدمة ({categoryName}) لإعادة تعيين هذه التذكرة إليه.' },
  'common.deleteAgent': { en: 'Delete Agent?', ar: 'حذف الموظف؟' },
  'common.deleteAgentWarning': { en: 'Warning: All tickets currently assigned to this agent will be permanently deleted. This action cannot be undone.', ar: 'تحذير: سيتم حذف جميع التذاكر المخصصة حاليًا لهذا الموظف بشكل دائم. لا يمكن التراجع عن هذا الإجراء.' },
  'common.deleteService': { en: 'Delete Service?', ar: 'حذف الخدمة؟' },
  'common.deleteServiceWarning': { en: 'Warning: All tickets in this category (including those currently being served) will be permanently deleted. This action cannot be undone.', ar: 'تحذير: سيتم حذف جميع التذاكر في هذه الفئة (بما في ذلك تلك التي يتم خدمتها حاليًا) بشكل دائم. لا يمكن التراجع عن هذا الإجراء.' },
  'common.noDescription': { en: 'No description', ar: 'لا يوجد وصف' },
  'common.noCategoriesAvailable': { en: 'No categories available.', ar: 'لا توجد فئات متاحة.' },
  'common.employeeId': { en: 'Employee ID', ar: 'الرقم الوظيفي' },
  'common.counter': { en: 'Counter', ar: 'الشباك' },
  'common.limit': { en: 'Items per page', ar: 'العناصر في الصفحة' },
  'customer.searchCountry': { en: 'Search country...', ar: 'بحث عن دولة...' },
  'admin.users.limit': { en: 'Items per page', ar: 'العناصر في الصفحة' },
};

interface I18nContextType {
  language: Language;
  setLanguage: (lang: Language) => void;
  t: (key: string, params?: Record<string, string | number>) => string;
  dir: 'ltr' | 'rtl';
}

const I18nContext = createContext<I18nContextType | undefined>(undefined);

export function I18nProvider({ children }: { children: ReactNode }) {
  const [language, setLanguageState] = useState<Language>('en');
  const [mounted, setMounted] = useState(false);

  useEffect(() => {
    setMounted(true);
    const savedLanguage = localStorage.getItem('language') as Language;
    if (savedLanguage && (savedLanguage === 'en' || savedLanguage === 'ar')) {
      setLanguageState(savedLanguage);
    }
  }, []);

  const setLanguage = (lang: Language) => {
    setLanguageState(lang);
    if (typeof window !== 'undefined') {
      localStorage.setItem('language', lang);
      // Update HTML dir attribute
      document.documentElement.dir = lang === 'ar' ? 'rtl' : 'ltr';
      document.documentElement.lang = lang;
    }
  };

  useEffect(() => {
    if (mounted && typeof document !== 'undefined') {
      document.documentElement.dir = language === 'ar' ? 'rtl' : 'ltr';
      document.documentElement.lang = language;
    }
  }, [language, mounted]);

  const t = (key: string, params?: Record<string, string | number>): string => {
    const translation = translations[key];
    if (!translation) {
      console.warn(`Translation missing for key: ${key}`);
      return key;
    }
    let text = translation[language] || translation.en;
    
    // Replace placeholders with actual values if params are provided
    if (params) {
      Object.keys(params).forEach((paramKey) => {
        const value = params[paramKey];
        text = text.replace(new RegExp(`\\{${paramKey}\\}`, 'g'), String(value));
      });
    }
    
    return text;
  };

  const dir = language === 'ar' ? 'rtl' : 'ltr';

  // Always provide context value, even during SSR
  const contextValue: I18nContextType = {
    language,
    setLanguage,
    t,
    dir,
  };

  return (
    <I18nContext.Provider value={contextValue}>
      {children}
    </I18nContext.Provider>
  );
}

export function useI18n() {
  const context = useContext(I18nContext);
  if (context === undefined) {
    throw new Error('useI18n must be used within an I18nProvider');
  }
  return context;
}

